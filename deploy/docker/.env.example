# LLM-Memory-Graph Docker Deployment Configuration
# Copy this file to .env and customize for your environment

# ============================================================================
# Core Service Configuration
# ============================================================================

# gRPC service port (external)
GRPC_PORT=50051

# Prometheus metrics port (external)
METRICS_PORT=9090

# Logging level (trace, debug, info, warn, error)
RUST_LOG=info

# Enable Rust backtraces for debugging
RUST_BACKTRACE=1

# ============================================================================
# Prometheus Configuration
# ============================================================================

# Prometheus UI port (external)
PROMETHEUS_PORT=9091

# Metrics retention period (e.g., 30d, 90d, 1y)
PROMETHEUS_RETENTION=30d

# ============================================================================
# Grafana Configuration
# ============================================================================

# Grafana UI port (external)
GRAFANA_PORT=3000

# Grafana admin credentials
# SECURITY WARNING: Change these in production!
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=admin

# Grafana root URL (for reverse proxy)
GRAFANA_ROOT_URL=http://localhost:3000

# ============================================================================
# Data Storage Configuration
# ============================================================================

# Local directory for persistent data storage
# This will be mounted as a Docker volume
DATA_DIR=./data

# ============================================================================
# Plugin System Configuration
# ============================================================================

# Directory containing custom plugins (optional)
PLUGIN_DIRS=/plugins

# ============================================================================
# LLM-Registry Integration (Optional)
# ============================================================================

# Enable LLM-Registry integration by setting these values
# Leave empty to disable

# Registry service URL
REGISTRY_URL=

# Registry API key for authentication
REGISTRY_API_KEY=

# ============================================================================
# Data-Vault Integration (Optional)
# ============================================================================

# Enable Data-Vault integration by setting these values
# Leave empty to disable

# Data-Vault service URL
VAULT_URL=

# Data-Vault API key for authentication
VAULT_API_KEY=

# ============================================================================
# Performance Tuning (Advanced)
# ============================================================================

# Sled database cache capacity in bytes (default: 512MB)
# SLED_CACHE_CAPACITY=536870912

# Sled mode: LowSpace or HighThroughput (default: HighThroughput)
# SLED_MODE=HighThroughput

# gRPC server configuration
# GRPC_MAX_CONNECTIONS=10000
# GRPC_KEEPALIVE_TIME_MS=60000
# GRPC_KEEPALIVE_TIMEOUT_MS=20000

# ============================================================================
# Development Configuration
# ============================================================================

# Enable additional debug logging (development only)
# RUST_LOG=memory_graph=debug,tower=info,tonic=debug

# Enable code hot-reloading (requires cargo-watch)
# DEV_MODE=true

# ============================================================================
# Security Configuration (Production)
# ============================================================================

# TLS certificate paths (if TLS is enabled)
# TLS_CERT_PATH=/certs/server.crt
# TLS_KEY_PATH=/certs/server.key
# TLS_CA_CERT_PATH=/certs/ca.crt

# API authentication (if enabled)
# API_KEY_REQUIRED=true
# API_KEYS=key1,key2,key3

# ============================================================================
# Monitoring and Alerting
# ============================================================================

# Alertmanager URL (if configured)
# ALERTMANAGER_URL=http://alertmanager:9093

# Grafana SMTP configuration for alerts (optional)
# GF_SMTP_ENABLED=true
# GF_SMTP_HOST=smtp.example.com:587
# GF_SMTP_USER=your-email@example.com
# GF_SMTP_PASSWORD=your-password
# GF_SMTP_FROM_ADDRESS=grafana@example.com

# ============================================================================
# Docker Compose Configuration
# ============================================================================

# Docker Compose project name (optional)
# COMPOSE_PROJECT_NAME=llm-memory-graph

# Docker network subnet (optional)
# DOCKER_NETWORK_SUBNET=172.28.0.0/16

# ============================================================================
# Notes
# ============================================================================

# 1. Never commit the .env file with real credentials to version control
# 2. Use Docker secrets or external secret management in production
# 3. Rotate API keys and passwords regularly
# 4. Monitor logs for security events
# 5. Keep this file in sync with docker-compose.yml changes

# ============================================================================
# Example Production Configuration
# ============================================================================

# GRPC_PORT=50051
# METRICS_PORT=9090
# PROMETHEUS_PORT=9091
# GRAFANA_PORT=3000
# RUST_LOG=info
# PROMETHEUS_RETENTION=90d
# GRAFANA_ADMIN_USER=admin
# GRAFANA_ADMIN_PASSWORD=your-very-secure-password-here
# DATA_DIR=/var/lib/llm-memory-graph
# REGISTRY_URL=https://registry.example.com
# REGISTRY_API_KEY=your-secure-registry-key
# VAULT_URL=https://vault.example.com
# VAULT_API_KEY=your-secure-vault-key
